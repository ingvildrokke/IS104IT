<DOCTYPE html>
 <!--
        Laboppgave3
        Navn: Ingvild Larsen Røkke
        samarbeidet med:Ingen 

        Tid:to timer



-->
	<html>
	<head>
		<meta charset="utf-8">
		<title>Hendelser med jQuery</title>
		<link href="css/ver2.css" rel= "stylesheet" type="text/css">
		<script src="js/jquery-1.8.1.js"></script>
		<script src="js/jcanvas.min.js"></script>
		
		<script>
		
		$(function() {
			//Definer variabelen canvas med referanse til objekt (i DOM) med id my_canvas
			var canvas = $('#my_canvas');
			
			// Beregner (x,y) posisjon til canvas DOM-element på siden
			
			var canvasPosition = {
				x: canvas.offset ().left,
				y: canvas.offset().top
			};
			
			//Her "fanges" click hendelse opp med jQuery metoden
			//e refererer til hendelse (event) som da gir mulighet til å kalle tilgjengelige metoder
			canvas.on('click', function(e){
				
				//Bruker pageX og pageY for å få posisjonen til mus i forhold til hele siden (ikke .y_canvas)
				var mouse = {
					x: e.pageX - canvasPosition.x,
					y: e.pageY - canvasPosition.y
				}
				/*
Nå har du lokale koordinater i mouse.x og mouse.y som er beregnet i forhold til det lokale  koordinatsystemet i my_canvas med (0,0) i det øverste venstre hjørne
				                */

// Skriv koordinatene ut til console basert på lab3_v2
// Kopier fra Lab3_v2
//Her bare kopieres lignende løsning fra lab3_v2

console.log(mouse.x + "," + mouse.y);

//Her skrives koordinatene ut til en <span> node
//Man skriver til innerHtml og også legger på stil (farge osv.)
//oppgave 2b) besvares her

$("#x").html(mouse.x);
$("#y").html(mouse.y);

canvas.drawArc({
	fillStroke: "#333",
	x:mouse.x,
	y: mouse.y,
	radius:2
})
//Dette er kode for deloppgave 2
// her er to metoder kalt opp etter hverandre og begge tilhører canvas
canvas.clearCanvas({
	x:0, y:0,
	width:canvas.width,
	height: canvas.height
})

//Her besvares deloppgave 2
.drawText({
	fillStyle:"#000",
	strokeStyle:"#000",
	strokeWidth: 1,
	x: mouse.x,
	y: mouse.y,
	font:"8pt Verdana, sans- serif",
	text: mouse.x + "," +mouse.y,
	
	
	});
});
	return false
	});
	
	</script>
</head>
<body>
	<p>Testside for å "fange" hendelser fra mus.</p>
	        <p>
	                <ul>
	                        <li>[1]Beregne (x,y) posisjon til Canvas DOM element på siden</li> 
	                        <li>[2]Finne den globale posisjonen til mus-kursøren i forhold til hele dokumentet</li> 
	                        <li>[3]For å lokalisere koordinatsenteret (0,0) til Canvas elementet i det øverste venstre hjørnet, og transformere globale koordinater til lokale koordinater, ta differansen mellom den globale museposisjonen beregnet i [2] og Canvas posisjonen fra [1] </li>
	                </ul>
	        </p>
			<canvas id="my_canvas" width="200" height="200"></canvas></p>
			<!-- Oppgaveløsning skal implementeres her -->
			<p> Avstand fra den venstre kanten av Canvas er <span id="x"></span></p>
			<p> Avstand fra den øverste kanten av Canvas er <span id="y"></span></p>
		</body>
		</html>                  